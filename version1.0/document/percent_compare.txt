percent 2
["000014.sz", 1, 0, 1, 0.0]
["000016.sz", 3, 1, 2, 0.33]
["000035.sz", 2, 2, 0, 1.0]
["000036.sz", 1, 1, 0, 1.0]
["000038.sz", 28, 17, 11, 0.61]
["000050.sz", 2, 0, 2, 0.0]
["000058.sz", 3, 3, 0, 1.0]
["000060.sz", 1, 1, 0, 1.0]
["000068.sz", 4, 1, 3, 0.25]
["000099.sz", 1, 0, 1, 0.0]
["000150.sz", 1, 1, 0, 1.0]
["000156.sz", 42, 26, 16, 0.62]
["000157.sz", 2, 0, 2, 0.0]
["000403.sz", 22, 15, 7, 0.68]
["000420.sz", 1, 1, 0, 1.0]
["000498.sz", 8, 5, 3, 0.63]
122
74
48
0.61
cost time=68.214902

percent 25
["000036.sz", 1, 1, 0, 1.0]
["000038.sz", 8, 6, 2, 0.75]
["000058.sz", 3, 3, 0, 1.0]
["000068.sz", 1, 0, 1, 0.0]
["000156.sz", 10, 4, 6, 0.4]
["000157.sz", 1, 0, 1, 0.0]
["000403.sz", 10, 8, 2, 0.8]
["000498.sz", 3, 2, 1, 0.67]
37
24
13
0.65
cost time=77.426429


percent 3

["000036.sz", 1, 1, 0, 1.0]
["000038.sz", 10, 7, 3, 0.7]
["000050.sz", 1, 0, 1, 0.0]
["000058.sz", 1, 1, 0, 1.0]
["000156.sz", 4, 3, 1, 0.75]
["000157.sz", 2, 0, 2, 0.0]
["000403.sz", 8, 7, 1, 0.88]
27
19
8
0.7
cost time=0.066004

percent 35
["000038.sz", 4, 1, 3, 0.25]
["000050.sz", 1, 0, 1, 0.0]
["000058.sz", 1, 1, 0, 1.0]
["000156.sz", 4, 2, 2, 0.5]
["000157.sz", 2, 0, 2, 0.0]
["000403.sz", 8, 7, 1, 0.88]
20
11
9
0.55
cost time=68.738932

# add one singal to true
percent 25
["000036.sz", 1, 1, 0, 1.0]
["000038.sz", 8, 6, 2, 0.75]
["000058.sz", 3, 3, 0, 1.0]
["000068.sz", 1, 0, 1, 0.0]
["000156.sz", 10, 4, 6, 0.4]
["000157.sz", 1, 0, 1, 0.0]
["000403.sz", 10, 8, 2, 0.8]
["000498.sz", 3, 2, 1, 0.67]
37
24
13
0.65
cost time=71.788106

加了多发信号过滤以后，提高4个百分点
["000036.sz", 1, 1, 0, 1.0]
["000038.sz", 8, 6, 2, 0.75]
["000058.sz", 1, 1, 0, 1.0]
["000068.sz", 1, 0, 1, 0.0]
["000156.sz", 1, 0, 1, 0.0]
["000157.sz", 1, 0, 1, 0.0]
["000403.sz", 10, 8, 2, 0.8]
["000498.sz", 3, 2, 1, 0.67]
26
18
8
0.69
cost time=72.699158

从75加大赢的历史比例到80结果好了一点，提升了7个百分点
["000036.sz", 1, 1, 0, 1.0]
["000038.sz", 8, 6, 2, 0.75]
["000058.sz", 3, 3, 0, 1.0]
["000156.sz", 1, 0, 1, 0.0]
["000157.sz", 1, 0, 1, 0.0]
["000403.sz", 10, 8, 2, 0.8]
["000498.sz", 1, 1, 0, 1.0]
25
19
6
0.76
cost time=75.796335

再改回percen 10
操作次数明显增多，但是结果不好
["000005.sz", 1, 1, 0, 1.0]
["000006.sz", 1, 1, 0, 1.0]
["000011.sz", 1, 0, 1, 0.0]
["000012.sz", 3, 2, 1, 0.67]
["000024.sz", 3, 2, 1, 0.67]
["000026.sz", 4, 3, 1, 0.75]
["000032.sz", 5, 4, 1, 0.8]
["000035.sz", 3, 1, 2, 0.33]
["000036.sz", 1, 1, 0, 1.0]
["000038.sz", 3, 3, 0, 1.0]
["000039.sz", 1, 0, 1, 0.0]
["000050.sz", 2, 1, 1, 0.5]
["000058.sz", 2, 2, 0, 1.0]
["000066.sz", 1, 0, 1, 0.0]
["000068.sz", 7, 3, 4, 0.43]
["000078.sz", 1, 0, 1, 0.0]
["000089.sz", 1, 0, 1, 0.0]
["000156.sz", 8, 5, 3, 0.63]
["000157.sz", 1, 0, 1, 0.0]
["000158.sz", 2, 1, 1, 0.5]
["000403.sz", 15, 12, 3, 0.8]
["000410.sz", 1, 1, 0, 1.0]
["000416.sz", 1, 1, 0, 1.0]
["000419.sz", 1, 0, 1, 0.0]
["000420.sz", 2, 2, 0, 1.0]
["000422.sz", 1, 0, 1, 0.0]
["000430.sz", 1, 0, 1, 0.0]
["000498.sz", 3, 2, 1, 0.67]
76
48
28
0.63
cost time=71.527091

再改回percent 30,结果又好了4个百分点
["000038.sz", 8, 6, 2, 0.75]
["000058.sz", 2, 2, 0, 1.0]
["000156.sz", 2, 1, 1, 0.5]
["000157.sz", 1, 0, 1, 0.0]
["000403.sz", 7, 7, 0, 1.0]
20
16
4
0.8
cost time=78.294478

percent 35表现不好

["000038.sz", 2, 1, 1, 0.5]
["000156.sz", 1, 0, 1, 0.0]
["000157.sz", 1, 0, 1, 0.0]
["000403.sz", 8, 7, 1, 0.88]
12
8
4
0.67
cost time=82.237704

改为percent 3
和昨天的一样，发现percent 3, 加上两个过滤条件，结果是可以接受的

在500只股票上， 比例为4次80，表现还算不错了
["000038.sz", 8, 6, 2, 0.75]
["000058.sz", 2, 2, 0, 1.0]
["000156.sz", 2, 1, 1, 0.5]
["000157.sz", 1, 0, 1, 0.0]
["000403.sz", 7, 7, 0, 1.0]
["000514.sz", 1, 0, 1, 0.0]
["000657.sz", 3, 1, 2, 0.33]
["000670.sz", 9, 9, 0, 1.0]
["000681.sz", 8, 5, 3, 0.63]
["000688.sz", 3, 2, 1, 0.67]
["000716.sz", 2, 1, 1, 0.5]
["000757.sz", 5, 4, 1, 0.8]
["000863.sz", 3, 1, 2, 0.33]
["000968.sz", 1, 1, 0, 1.0]
55
40
15
0.73
cost time=329.113824

仔细观察下，去掉其中两只100%的，实际上只有60%的机会猜对
调整为 count_5_percent_75
["000038.sz", 4, 2, 2, 0.5]
["000058.sz", 1, 1, 0, 1.0]
["000156.sz", 4, 3, 1, 0.75]
["000157.sz", 1, 0, 1, 0.0]
["000403.sz", 6, 6, 0, 1.0]
["000514.sz", 1, 0, 1, 0.0]
["000572.sz", 2, 1, 1, 0.5]
["000657.sz", 2, 0, 2, 0.0]
["000670.sz", 9, 9, 0, 1.0]
["000681.sz", 6, 5, 1, 0.83]
["000688.sz", 3, 2, 1, 0.67]
["000716.sz", 1, 1, 0, 1.0]
["000757.sz", 4, 3, 1, 0.75]
["000863.sz", 1, 0, 1, 0.0]
["000880.sz", 1, 1, 0, 1.0]
46
34
12
0.74
cost time=393.780523
扣掉15次，实际上只有20，12，也是62.5的概率不输掉而已

改为 single_win_freq:  "count_5_percent_70" 试试
可以看到，操作次数明显增多，但是猜错比例也跟着上升
["000038.sz", 7, 3, 4, 0.43]
["000050.sz", 1, 0, 1, 0.0]
["000156.sz", 3, 2, 1, 0.67]
["000157.sz", 2, 0, 2, 0.0]
["000403.sz", 6, 6, 0, 1.0]
["000514.sz", 2, 1, 1, 0.5]
["000545.sz", 1, 0, 1, 0.0]
["000572.sz", 3, 2, 1, 0.67]
["000603.sz", 1, 1, 0, 1.0]
["000657.sz", 3, 0, 3, 0.0]
["000669.sz", 1, 0, 1, 0.0]
["000670.sz", 12, 12, 0, 1.0]
["000681.sz", 12, 7, 5, 0.58]
["000688.sz", 4, 2, 2, 0.5]
["000716.sz", 2, 2, 0, 1.0]
["000735.sz", 1, 1, 0, 1.0]
["000757.sz", 5, 4, 1, 0.8]
["000863.sz", 2, 1, 1, 0.5]
["000880.sz", 1, 1, 0, 1.0]
["000969.sz", 1, 1, 0, 1.0]
70
46
24
0.66
cost time=411.930561
扣掉最多的两次基本上输赢差不多

试试count_3_percent_85
显然操作次数降低，但概率明显提升
["000038.sz", 4, 3, 1, 0.75]
["000403.sz", 2, 2, 0, 1.0]
["000657.sz", 2, 0, 2, 0.0]
["000670.sz", 11, 11, 0, 1.0]
["000681.sz", 1, 1, 0, 1.0]
["000688.sz", 1, 0, 1, 0.0]
["000757.sz", 7, 6, 1, 0.86]
28
23
5
0.82    去掉最多的那次， 12次和5次，70%
cost time=454.281984

去掉多次出现的买入限制看看
发现没有影响
["000038.sz", 4, 3, 1, 0.75]
["000403.sz", 2, 2, 0, 1.0]
["000657.sz", 2, 0, 2, 0.0]
["000670.sz", 11, 11, 0, 1.0]
["000681.sz", 1, 1, 0, 1.0]
["000688.sz", 1, 0, 1, 0.0]
["000757.sz", 7, 6, 1, 0.86]
28
23
5
0.82
cost time=426.42939

去掉这个均线限制，看看
发现对结果没有影响
 today_signal_array[0]=="false"
["000038.sz", 4, 3, 1, 0.75]
["000403.sz", 2, 2, 0, 1.0]
["000657.sz", 2, 0, 2, 0.0]
["000670.sz", 11, 11, 0, 1.0]
["000681.sz", 1, 1, 0, 1.0]
["000688.sz", 1, 0, 1, 0.0]
["000757.sz", 7, 6, 1, 0.86]
28
23
5
0.82

再降回 percent_20_num_2_days看看
主要是觉得操作次数太少了，呵呵
["000038.sz", 6, 4, 2, 0.67]
["000050.sz", 1, 0, 1, 0.0]
["000058.sz", 1, 1, 0, 1.0]
["000099.sz", 1, 0, 1, 0.0]
["000156.sz", 1, 0, 1, 0.0]
["000403.sz", 6, 4, 2, 0.67]
["000622.sz", 3, 2, 1, 0.67]
["000657.sz", 2, 0, 2, 0.0]
["000669.sz", 1, 0, 1, 0.0]
["000670.sz", 11, 11, 0, 1.0]
["000672.sz", 1, 1, 0, 1.0]
["000681.sz", 12, 4, 8, 0.33]
["000688.sz", 1, 0, 1, 0.0]
["000716.sz", 1, 0, 1, 0.0]
["000757.sz", 7, 6, 1, 0.86]
["000863.sz", 1, 1, 0, 1.0]
["000968.sz", 1, 1, 0, 1.0]
57
35
22
0.61
cost time=398.938818

改为 percent_30_num_2_days，"count_3_percent_80"
["000038.sz", 9, 7, 2, 0.78]
["000058.sz", 2, 2, 0, 1.0]
["000156.sz", 2, 1, 1, 0.5]
["000157.sz", 1, 0, 1, 0.0]
["000403.sz", 7, 7, 0, 1.0]
["000514.sz", 1, 0, 1, 0.0]
["000657.sz", 4, 1, 3, 0.25]
["000670.sz", 11, 11, 0, 1.0]
["000681.sz", 10, 7, 3, 0.7]
["000688.sz", 3, 2, 1, 0.67]
["000716.sz", 2, 1, 1, 0.5]
["000757.sz", 7, 6, 1, 0.86]
["000863.sz", 3, 1, 2, 0.33]
["000968.sz", 1, 1, 0, 1.0]
63
47
16
0.75
cost time=475.498197

操作次数增加了接近3倍

在另外500只股票上（500-1000）前面的是0-500，几乎没有规律，而且输的多！！
["002190.sz", 1, 0, 1, 0.0]
["002278.sz", 1, 0, 1, 0.0]
["002312.sz", 2, 1, 1, 0.5]
["002397.sz", 1, 0, 1, 0.0]
["002438.sz", 1, 0, 1, 0.0]
["002450.sz", 2, 2, 0, 1.0]
["002498.sz", 1, 1, 0, 1.0]
9
4
5
0.44
cost time=386.754121

1000-2000上的表现
["002618.sz", 1, 0, 1, 0.0]
["002688.sz", 2, 2, 0, 1.0]
["002691.sz", 7, 5, 2, 0.71]
["002693.sz", 1, 1, 0, 1.0]
["002699.sz", 5, 4, 1, 0.8]
["002700.sz", 1, 1, 0, 1.0]
["002701.sz", 10, 7, 3, 0.7]
["002703.sz", 9, 5, 4, 0.56]
["300024.sz", 2, 2, 0, 1.0]
["300127.sz", 1, 0, 1, 0.0]
["300229.sz", 2, 2, 0, 1.0]
["300237.sz", 3, 2, 1, 0.67]
["300266.sz", 1, 0, 1, 0.0]
["300278.sz", 5, 4, 1, 0.8]
["300295.sz", 6, 4, 2, 0.67]
["300300.sz", 2, 2, 0, 1.0]
["300301.sz", 2, 2, 0, 1.0]
["300302.sz", 2, 2, 0, 1.0]
["300312.sz", 3, 2, 1, 0.67]
["300315.sz", 2, 1, 1, 0.5]
["300319.sz", 4, 4, 0, 1.0]
["300323.sz", 1, 1, 0, 1.0]
["300327.sz", 2, 2, 0, 1.0]
["300331.sz", 4, 2, 2, 0.5]
["300333.sz", 2, 1, 1, 0.5]
["300334.sz", 6, 5, 1, 0.83]
["300336.sz", 4, 4, 0, 1.0]
["300337.sz", 5, 4, 1, 0.8]
["300338.sz", 1, 1, 0, 1.0]
["300339.sz", 1, 0, 1, 0.0]
["300340.sz", 3, 3, 0, 1.0]
["300341.sz", 1, 0, 1, 0.0]
["300343.sz", 4, 2, 2, 0.5]
["300344.sz", 2, 1, 1, 0.5]
["300348.sz", 4, 3, 1, 0.75]
["300349.sz", 1, 0, 1, 0.0]
["300350.sz", 3, 1, 2, 0.33]
["300351.sz", 1, 0, 1, 0.0]
["300353.sz", 6, 6, 0, 1.0]
["300356.sz", 3, 2, 1, 0.67]
["600057.ss", 4, 3, 1, 0.75]
["600085.ss", 3, 2, 1, 0.67]
["600180.ss", 1, 0, 1, 0.0]
["600312.ss", 1, 0, 1, 0.0]
["600497.ss", 1, 0, 1, 0.0]
["600556.ss", 7, 3, 4, 0.43]
142
98
44
0.69


